{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst ENDPOINT = process.env.REACT_APP_ENDPOINT;\nconst apiUrl = String(ENDPOINT);\nexport const fetchAsyncPDF_listGet = createAsyncThunk(\"pdf_list/get\", async token => {\n  const res = await axios.get(`${apiUrl}api/pdf/`, {\n    headers: {\n      Authorization: `JWT ${token}`\n    }\n  });\n  return res.data;\n});\nexport const fetchAsyncCompnay_listGet = createAsyncThunk(\"company_list/get\", async () => {\n  const res = await axios.get(`${apiUrl}api/company/`, {\n    headers: {}\n  });\n  return res.data;\n});\nexport const fetchAsyncCompnayGet = createAsyncThunk(\"company/get\", async uuid => {\n  const res = await axios.get(`${apiUrl}api/company/${uuid}/`, {\n    headers: {}\n  });\n  return res.data;\n});\nconst pdfSlice = createSlice({\n  name: 'pdf_info',\n  initialState: {\n    pdf_list: [{\n      id: '',\n      company: 0,\n      pdf_type: 0,\n      pdf_title: '',\n      pdf: '',\n      regist_date: ''\n    }],\n    company_list: [{\n      id: '',\n      company_name: '',\n      company_number: 0\n    }],\n    company: {\n      id: '',\n      company_name: 'Please select company',\n      company_number: ''\n    },\n    error: ''\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchAsyncPDF_listGet.fulfilled, (state, action) => {\n      state.pdf_list = action.payload.sort(function (a, b) {\n        if (a.regist_date < b.regist_date) return -1;\n        if (a.regist_date > b.regist_date) return 1;\n        return 0;\n      });\n      ;\n      console.log(state.pdf_list);\n      state.error = '';\n    });\n    builder.addCase(fetchAsyncPDF_listGet.rejected, (state, action) => {\n      state.error = '閲覧は有料会員のみとなります';\n    });\n    builder.addCase(fetchAsyncCompnay_listGet.fulfilled, (state, action) => {\n      state.company_list = action.payload;\n    });\n    builder.addCase(fetchAsyncCompnayGet.fulfilled, (state, action) => {\n      state.company = action.payload;\n    });\n  }\n});\nexport const {} = pdfSlice.actions;\nexport const selectPDF_list = state => state.pdf_info.pdf_list;\nexport const selectCompany_list = state => state.pdf_info.company_list;\nexport const selectCompany = state => state.pdf_info.company;\nexport const selectError = state => state.pdf_info.error;\nexport default pdfSlice.reducer;","map":{"version":3,"sources":["/Users/kurokiso/Desktop/ut_finace/finance_web/new_git/finance_web/front/src/features/report/reportSlice.js"],"names":["createSlice","createAsyncThunk","axios","ENDPOINT","process","env","REACT_APP_ENDPOINT","apiUrl","String","fetchAsyncPDF_listGet","token","res","get","headers","Authorization","data","fetchAsyncCompnay_listGet","fetchAsyncCompnayGet","uuid","pdfSlice","name","initialState","pdf_list","id","company","pdf_type","pdf_title","pdf","regist_date","company_list","company_name","company_number","error","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","sort","a","b","console","log","rejected","actions","selectPDF_list","pdf_info","selectCompany_list","selectCompany","selectError","reducer"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst ENDPOINT = process.env.REACT_APP_ENDPOINT\nconst apiUrl = String(ENDPOINT);\n\nexport const fetchAsyncPDF_listGet = createAsyncThunk(\"pdf_list/get\", async (token) => {\n    const res = await axios.get(`${apiUrl}api/pdf/`, {\n      headers: {\n        Authorization: `JWT ${token}`,\n      },\n    });\n    return res.data;\n});\n\nexport const fetchAsyncCompnay_listGet = createAsyncThunk(\"company_list/get\", async () => {\n  const res = await axios.get(`${apiUrl}api/company/`, {\n    headers: {\n    },\n  });\n  return res.data;\n});\n\nexport const fetchAsyncCompnayGet = createAsyncThunk(\"company/get\", async (uuid) => {\n  const res = await axios.get(`${apiUrl}api/company/${uuid}/`, {\n    headers: {\n    },\n  });\n  return res.data;\n});\n\n\nconst pdfSlice = createSlice({\n    name: 'pdf_info',\n    initialState: {\n        pdf_list: [\n            {\n                id: '',\n                company: 0,\n                pdf_type: 0,\n                pdf_title: '',\n                pdf: '',\n                regist_date: '',\n            },\n        ],\n        company_list: [\n          {\n              id: '',\n              company_name: '',\n              company_number: 0,\n          },   \n        ],\n        company: {\n          id: '',\n          company_name: 'Please select company',\n          company_number: '',\n        },\n        error: '',\n    },\n    reducers: {\n      \n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchAsyncPDF_listGet.fulfilled, (state, action) => {\n          state.pdf_list = action.payload.sort(function(a,b){\n            if(a.regist_date<b.regist_date) return -1;\n            if(a.regist_date > b.regist_date) return 1;\n            return 0;\n          });;\n          console.log(state.pdf_list)\n          state.error = '';\n        });\n        builder.addCase(fetchAsyncPDF_listGet.rejected, (state, action) => {\n          state.error = '閲覧は有料会員のみとなります';\n        });\n        builder.addCase(fetchAsyncCompnay_listGet.fulfilled, (state, action) => {\n          state.company_list = action.payload;\n        });\n        builder.addCase(fetchAsyncCompnayGet.fulfilled, (state, action) => {\n          state.company = action.payload;\n        });\n    },\n})\n\nexport const {} = pdfSlice.actions;\nexport const selectPDF_list = (state) => state.pdf_info.pdf_list;\nexport const selectCompany_list = (state) => state.pdf_info.company_list;\nexport const selectCompany = (state) => state.pdf_info.company;\nexport const selectError = (state) => state.pdf_info.error;\n\nexport default pdfSlice.reducer;\n\n\n"]},"metadata":{},"sourceType":"module"}