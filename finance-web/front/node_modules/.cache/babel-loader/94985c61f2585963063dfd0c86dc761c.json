{"ast":null,"code":"import _objectDestructuringEmpty from\"/Users/kurokiso/Desktop/ut_finace/finance_web/new_git/finance_web/front/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";import _regeneratorRuntime from\"/Users/kurokiso/Desktop/ut_finace/finance_web/new_git/finance_web/front/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kurokiso/Desktop/ut_finace/finance_web/new_git/finance_web/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from\"axios\";var ENDPOINT=process.env.REACT_APP_ENDPOINT;var apiUrl=String(ENDPOINT);export var fetchAsyncPDF_listGet=createAsyncThunk(\"pdf_list/get\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(token){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(apiUrl,\"api/pdf/\"),{headers:{Authorization:\"JWT \".concat(token)}});case 2:res=_context.sent;return _context.abrupt(\"return\",res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var fetchAsyncCompnay_listGet=createAsyncThunk(\"company_list/get\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"\".concat(apiUrl,\"api/company/\"),{headers:{}});case 2:res=_context2.sent;return _context2.abrupt(\"return\",res.data);case 4:case\"end\":return _context2.stop();}}},_callee2);})));export var fetchAsyncCompnayGet=createAsyncThunk(\"company/get\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(uuid){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(\"\".concat(apiUrl,\"api/company/\").concat(uuid,\"/\"),{headers:{}});case 2:res=_context3.sent;return _context3.abrupt(\"return\",res.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}());var pdfSlice=createSlice({name:'pdf_info',initialState:{pdf_list:[{id:'',company:0,pdf_type:0,pdf_title:'',pdf:'',regist_date:''}],company_list:[{id:'',company_name:'',company_number:0}],company:{id:'',company_name:'Please select company',company_number:''},error:''},reducers:{},extraReducers:function extraReducers(builder){builder.addCase(fetchAsyncPDF_listGet.fulfilled,function(state,action){state.pdf_list=action.payload.sort(function(a,b){if(a.regist_date<b.regist_date)return-1;if(a.regist_date>b.regist_date)return 1;return 0;});;console.log(state.pdf_list);state.error='';});builder.addCase(fetchAsyncPDF_listGet.rejected,function(state,action){state.error='閲覧は有料会員のみとなります';});builder.addCase(fetchAsyncCompnay_listGet.fulfilled,function(state,action){state.company_list=action.payload;});builder.addCase(fetchAsyncCompnayGet.fulfilled,function(state,action){state.company=action.payload;});}});_objectDestructuringEmpty(pdfSlice.actions);export{};export var selectPDF_list=function selectPDF_list(state){return state.pdf_info.pdf_list;};export var selectCompany_list=function selectCompany_list(state){return state.pdf_info.company_list;};export var selectCompany=function selectCompany(state){return state.pdf_info.company;};export var selectError=function selectError(state){return state.pdf_info.error;};export default pdfSlice.reducer;","map":{"version":3,"sources":["/Users/kurokiso/Desktop/ut_finace/finance_web/new_git/finance_web/front/src/features/report/reportSlice.js"],"names":["createSlice","createAsyncThunk","axios","ENDPOINT","process","env","REACT_APP_ENDPOINT","apiUrl","String","fetchAsyncPDF_listGet","token","get","headers","Authorization","res","data","fetchAsyncCompnay_listGet","fetchAsyncCompnayGet","uuid","pdfSlice","name","initialState","pdf_list","id","company","pdf_type","pdf_title","pdf","regist_date","company_list","company_name","company_number","error","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","sort","a","b","console","log","rejected","actions","selectPDF_list","pdf_info","selectCompany_list","selectCompany","selectError","reducer"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst ENDPOINT = process.env.REACT_APP_ENDPOINT\nconst apiUrl = String(ENDPOINT);\n\nexport const fetchAsyncPDF_listGet = createAsyncThunk(\"pdf_list/get\", async (token) => {\n    const res = await axios.get(`${apiUrl}api/pdf/`, {\n      headers: {\n        Authorization: `JWT ${token}`,\n      },\n    });\n    return res.data;\n});\n\nexport const fetchAsyncCompnay_listGet = createAsyncThunk(\"company_list/get\", async () => {\n  const res = await axios.get(`${apiUrl}api/company/`, {\n    headers: {\n    },\n  });\n  return res.data;\n});\n\nexport const fetchAsyncCompnayGet = createAsyncThunk(\"company/get\", async (uuid) => {\n  const res = await axios.get(`${apiUrl}api/company/${uuid}/`, {\n    headers: {\n    },\n  });\n  return res.data;\n});\n\n\nconst pdfSlice = createSlice({\n    name: 'pdf_info',\n    initialState: {\n        pdf_list: [\n            {\n                id: '',\n                company: 0,\n                pdf_type: 0,\n                pdf_title: '',\n                pdf: '',\n                regist_date: '',\n            },\n        ],\n        company_list: [\n          {\n              id: '',\n              company_name: '',\n              company_number: 0,\n          },   \n        ],\n        company: {\n          id: '',\n          company_name: 'Please select company',\n          company_number: '',\n        },\n        error: '',\n    },\n    reducers: {\n      \n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchAsyncPDF_listGet.fulfilled, (state, action) => {\n          state.pdf_list = action.payload.sort(function(a,b){\n            if(a.regist_date<b.regist_date) return -1;\n            if(a.regist_date > b.regist_date) return 1;\n            return 0;\n          });;\n          console.log(state.pdf_list)\n          state.error = '';\n        });\n        builder.addCase(fetchAsyncPDF_listGet.rejected, (state, action) => {\n          state.error = '閲覧は有料会員のみとなります';\n        });\n        builder.addCase(fetchAsyncCompnay_listGet.fulfilled, (state, action) => {\n          state.company_list = action.payload;\n        });\n        builder.addCase(fetchAsyncCompnayGet.fulfilled, (state, action) => {\n          state.company = action.payload;\n        });\n    },\n})\n\nexport const {} = pdfSlice.actions;\nexport const selectPDF_list = (state) => state.pdf_info.pdf_list;\nexport const selectCompany_list = (state) => state.pdf_info.company_list;\nexport const selectCompany = (state) => state.pdf_info.company;\nexport const selectError = (state) => state.pdf_info.error;\n\nexport default pdfSlice.reducer;\n\n\n"]},"metadata":{},"sourceType":"module"}