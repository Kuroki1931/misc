{"ast":null,"code":"var _jsxFileName = \"/Users/kurokiso/Desktop/ut_finace/finance_web/git/front/src/features/login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { withCookies } from 'react-cookie';\nimport styles from \"./Login.module.css\";\nimport { editEmail, editPassword, toggleMode, fetchAsyncLogin, fetchAsyncRegister, selectAuthen, selectIsLoginView } from \"./loginSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const authen = useSelector(selectAuthen);\n  const isLoginView = useSelector(selectIsLoginView);\n  const btnDisabler1 = authen.email === \"\" || authen.password === \"\";\n\n  const login = async () => {\n    if (isLoginView) {\n      const result = await dispatch(fetchAsyncLogin(authen));\n\n      if (fetchAsyncLogin.fulfilled.match(result)) {\n        console.log(result.payload);\n        props.cookies.set(\"current-token\", result.payload.access_token, {\n          maxAge: 3600,\n          path: '/'\n        });\n      }\n    } else {\n      const result = await dispatch(fetchAsyncRegister(authen));\n\n      if (fetchAsyncRegister.fulfilled.match(result)) {\n        const result = await dispatch(fetchAsyncLogin(authen));\n      }\n\n      if (fetchAsyncLogin.fulfilled.match(result)) {\n        props.cookies.set(\"current-token\", result.payload.access, {\n          maxAge: 3600,\n          path: '/'\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.containerLogin,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.appLogin,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: isLoginView ? \"Login\" : \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: styles.inputLog,\n        name: \"username\",\n        placeholder: \"\",\n        onChange: e => dispatch(editEmail(e.target.value)),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: styles.inputLog,\n        name: \"password\",\n        placeholder: \"\",\n        onChange: e => dispatch(editPassword(e.target.value)),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.switch,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          disabled: btnDisabler1,\n          color: \"primary\",\n          onClick: login,\n          children: isLoginView ? \"Login\" : \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles.switchText,\n        onClick: () => dispatch(toggleMode()),\n        children: isLoginView ? \"Create Account ?\" : \"Back to Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"MRziRFJnL0CJgCt/908Nk24ReOo=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Login;\nexport default _c2 = withCookies(Login);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/kurokiso/Desktop/ut_finace/finance_web/git/front/src/features/login/Login.js"],"names":["React","Button","useSelector","useDispatch","withCookies","styles","editEmail","editPassword","toggleMode","fetchAsyncLogin","fetchAsyncRegister","selectAuthen","selectIsLoginView","Login","props","dispatch","authen","isLoginView","btnDisabler1","email","password","login","result","fulfilled","match","console","log","payload","cookies","set","access_token","maxAge","path","access","containerLogin","appLogin","inputLog","e","target","value","switch","switchText"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AAEA,SACEC,SADF,EAEEC,YAFF,EAGEC,UAHF,EAIEC,eAJF,EAKEC,kBALF,EAMEC,YANF,EAOEC,iBAPF,QAQO,cARP;;;AAUA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AAAA;;AACrB,QAAMC,QAAQ,GAAGZ,WAAW,EAA5B;AACA,QAAMa,MAAM,GAAGd,WAAW,CAACS,YAAD,CAA1B;AACA,QAAMM,WAAW,GAAGf,WAAW,CAACU,iBAAD,CAA/B;AACA,QAAMM,YAAY,GAAGF,MAAM,CAACG,KAAP,KAAiB,EAAjB,IAAuBH,MAAM,CAACI,QAAP,KAAoB,EAAhE;;AAGA,QAAMC,KAAK,GAAG,YAAY;AACtB,QAAIJ,WAAJ,EAAiB;AACb,YAAMK,MAAM,GAAG,MAAMP,QAAQ,CAACN,eAAe,CAACO,MAAD,CAAhB,CAA7B;;AAEA,UAAIP,eAAe,CAACc,SAAhB,CAA0BC,KAA1B,CAAgCF,MAAhC,CAAJ,EAA6C;AACzCG,QAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACK,OAAnB;AACAb,QAAAA,KAAK,CAACc,OAAN,CAAcC,GAAd,CAAkB,eAAlB,EAAmCP,MAAM,CAACK,OAAP,CAAeG,YAAlD,EAAgE;AAACC,UAAAA,MAAM,EAAE,IAAT;AAAeC,UAAAA,IAAI,EAAE;AAArB,SAAhE;AACH;AACJ,KAPD,MAOO;AACH,YAAMV,MAAM,GAAG,MAAMP,QAAQ,CAACL,kBAAkB,CAACM,MAAD,CAAnB,CAA7B;;AAEA,UAAIN,kBAAkB,CAACa,SAAnB,CAA6BC,KAA7B,CAAmCF,MAAnC,CAAJ,EAAgD;AAC5C,cAAMA,MAAM,GAAG,MAAMP,QAAQ,CAACN,eAAe,CAACO,MAAD,CAAhB,CAA7B;AACH;;AACD,UAAIP,eAAe,CAACc,SAAhB,CAA0BC,KAA1B,CAAgCF,MAAhC,CAAJ,EAA6C;AACzCR,QAAAA,KAAK,CAACc,OAAN,CAAcC,GAAd,CAAkB,eAAlB,EAAmCP,MAAM,CAACK,OAAP,CAAeM,MAAlD,EAA0D;AAACF,UAAAA,MAAM,EAAE,IAAT;AAAeC,UAAAA,IAAI,EAAE;AAArB,SAA1D;AACH;AACJ;AACJ,GAlBD;;AAoBA,sBACI;AAAK,IAAA,SAAS,EAAE3B,MAAM,CAAC6B,cAAvB;AAAA,2BACI;AAAK,MAAA,SAAS,EAAE7B,MAAM,CAAC8B,QAAvB;AAAA,8BACI;AAAA,kBAAKlB,WAAW,GAAG,OAAH,GAAa;AAA7B;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,SAAS,EAAEZ,MAAM,CAAC+B,QAFtB;AAGI,QAAA,IAAI,EAAC,UAHT;AAII,QAAA,WAAW,EAAC,EAJhB;AAKI,QAAA,QAAQ,EAAGC,CAAD,IAAOtB,QAAQ,CAACT,SAAS,CAAC+B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CAL7B;AAMI,QAAA,QAAQ;AANZ;AAAA;AAAA;AAAA;AAAA,cAHJ,eAWI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ,eAYI;AACI,QAAA,IAAI,EAAC,UADT;AAEI,QAAA,SAAS,EAAElC,MAAM,CAAC+B,QAFtB;AAGI,QAAA,IAAI,EAAC,UAHT;AAII,QAAA,WAAW,EAAC,EAJhB;AAKI,QAAA,QAAQ,EAAGC,CAAD,IAAOtB,QAAQ,CAACR,YAAY,CAAC8B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,CAL7B;AAMI,QAAA,QAAQ;AANZ;AAAA;AAAA;AAAA;AAAA,cAZJ,eAoBI;AAAK,QAAA,SAAS,EAAElC,MAAM,CAACmC,MAAvB;AAAA,+BACA,QAAC,MAAD;AACI,UAAA,OAAO,EAAC,WADZ;AAEI,UAAA,QAAQ,EAAEtB,YAFd;AAGI,UAAA,KAAK,EAAC,SAHV;AAII,UAAA,OAAO,EAAEG,KAJb;AAAA,oBAMKJ,WAAW,GAAG,OAAH,GAAa;AAN7B;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cApBJ,eA8BI;AACA,QAAA,SAAS,EAAEZ,MAAM,CAACoC,UADlB;AAEA,QAAA,OAAO,EAAE,MAAM1B,QAAQ,CAACP,UAAU,EAAX,CAFvB;AAAA,kBAICS,WAAW,GAAG,kBAAH,GAAwB;AAJpC;AAAA;AAAA;AAAA;AAAA,cA9BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAyCH,CApED;;GAAMJ,K;UACeV,W,EACFD,W,EACKA,W;;;KAHlBW,K;AAsEN,qBAAeT,WAAW,CAACS,KAAD,CAA1B","sourcesContent":["import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { withCookies } from 'react-cookie';\nimport styles from \"./Login.module.css\";\n\nimport {\n  editEmail,\n  editPassword,\n  toggleMode,\n  fetchAsyncLogin,\n  fetchAsyncRegister,\n  selectAuthen,\n  selectIsLoginView,\n} from \"./loginSlice\";\n\nconst Login = (props) => {\n    const dispatch = useDispatch();\n    const authen = useSelector(selectAuthen);\n    const isLoginView = useSelector(selectIsLoginView);\n    const btnDisabler1 = authen.email === \"\" || authen.password === \"\";\n\n\n    const login = async () => {\n        if (isLoginView) {\n            const result = await dispatch(fetchAsyncLogin(authen))\n\n            if (fetchAsyncLogin.fulfilled.match(result)) {\n                console.log(result.payload)\n                props.cookies.set(\"current-token\", result.payload.access_token, {maxAge: 3600, path: '/'});\n            }\n        } else {\n            const result = await dispatch(fetchAsyncRegister(authen));\n\n            if (fetchAsyncRegister.fulfilled.match(result)) {\n                const result = await dispatch(fetchAsyncLogin(authen))\n            }\n            if (fetchAsyncLogin.fulfilled.match(result)) {\n                props.cookies.set(\"current-token\", result.payload.access, {maxAge: 3600, path: '/'});\n            }\n        }\n    };\n\n    return (\n        <div className={styles.containerLogin}>\n            <div className={styles.appLogin}>\n                <h1>{isLoginView ? \"Login\" : \"Register\"}</h1>\n                <span>Email</span>\n                <input\n                    type=\"text\"\n                    className={styles.inputLog}\n                    name=\"username\"\n                    placeholder=\"\"\n                    onChange={(e) => dispatch(editEmail(e.target.value))}\n                    required\n                />\n                <span>Password</span>\n                <input\n                    type=\"password\"\n                    className={styles.inputLog}\n                    name=\"password\"\n                    placeholder=\"\"\n                    onChange={(e) => dispatch(editPassword(e.target.value))}\n                    required\n                />\n                <div className={styles.switch}>\n                <Button\n                    variant=\"contained\"\n                    disabled={btnDisabler1}\n                    color=\"primary\"\n                    onClick={login}\n                >\n                    {isLoginView ? \"Login\" : \"Create\"}\n                </Button>\n                </div>\n                <span\n                className={styles.switchText}\n                onClick={() => dispatch(toggleMode())}\n                >\n                {isLoginView ? \"Create Account ?\" : \"Back to Login\"}\n                </span>\n            </div>\n        </div>\n    );\n};\n\nexport default withCookies(Login)\n"]},"metadata":{},"sourceType":"module"}